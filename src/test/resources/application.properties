# Test Configuration
spring.application.name=bigProject-test

# Use H2 Database for Testing (No need for real PostgreSQL connection)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;MODE=PostgreSQL
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect
spring.sql.init.mode=never

# Variables mapped to Dummies (Prevents PlaceholderResolutionException)
OPENAI_API_KEY=test-openai-key
SERPAPI_API_KEY=test-serpapi-key
HACCP_SERVICE_KEY=test-haccp-key
NAVER_CLIENT_ID=test-naver-id
NAVER_CLIENT_SECRET=test-naver-secret
KAKAO_CLIENT_ID=test-kakao-id
KAKAO_CLIENT_SECRET=test-kakao-secret

# JWT (Must be valid Base64 or long string depending on implementation, ensuring 32+ bytes)
JWT_SECRET=dGVzdC1zZWNyZXQta2V5LWZvci1qcGEtdGVzdGluZy1wdXJwb3NlcwotbXVzdC1iZS1sb25n

# Mail
MAIL_USERNAME=test@gmail.com
MAIL_PASSWORD=test-password
NAVER_MAIL_USERNAME=test@naver.com
NAVER_MAIL_PASSWORD=test-password

# OAuth Redirect
# OpenAI
openai.base-url=https://api.openai.com/v1
openai.api-key=${OPENAI_API_KEY}
openai.model=gpt-4.1-mini
openai.image-model=gpt-image-1

# SerpApi
serpapi.base-url=https://serpapi.com
serpapi.api-key=${SERPAPI_API_KEY}

# HACCP
haccp.service-key=${HACCP_SERVICE_KEY}

# OAuth Redirect
app.oauth2.redirect-uri=http://localhost:8080/oauth/callback

# Mail Common
mail.gmail.host=smtp.gmail.com
mail.gmail.port=587
mail.gmail.username=${MAIL_USERNAME}
mail.gmail.password=${MAIL_PASSWORD}
mail.gmail.smtp.auth=true
mail.gmail.smtp.starttls.enable=true
mail.gmail.smtp.starttls.required=true
mail.gmail.default-encoding=UTF-8

mail.naver.host=smtp.naver.com
mail.naver.port=587
mail.naver.username=${NAVER_MAIL_USERNAME}
mail.naver.password=${NAVER_MAIL_PASSWORD}
mail.naver.smtp.auth=true
mail.naver.smtp.starttls.enable=true
mail.naver.smtp.starttls.required=true
mail.naver.default-encoding=UTF-8

# Analysis Engine
analysis.engine.url=http://localhost:8000

# OAuth2 (Naver/Kakao)
spring.security.oauth2.client.registration.naver.client-id=${NAVER_CLIENT_ID}
spring.security.oauth2.client.registration.naver.client-secret=${NAVER_CLIENT_SECRET}
spring.security.oauth2.client.registration.naver.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.naver.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.naver.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.naver.scope=name,email
spring.security.oauth2.client.registration.naver.client-name=Naver
spring.security.oauth2.client.provider.naver.authorization-uri=https://nid.naver.com/oauth2.0/authorize
spring.security.oauth2.client.provider.naver.token-uri=https://nid.naver.com/oauth2.0/token
spring.security.oauth2.client.provider.naver.user-info-uri=https://openapi.naver.com/v1/nid/me
spring.security.oauth2.client.provider.naver.user-name-attribute=response

spring.security.oauth2.client.registration.kakao.client-id=${KAKAO_CLIENT_ID}
spring.security.oauth2.client.registration.kakao.client-secret=${KAKAO_CLIENT_SECRET}
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.kakao.scope=profile_nickname,account_email
spring.security.oauth2.client.registration.kakao.client-name=Kakao
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me
spring.security.oauth2.client.provider.kakao.user-name-attribute=id

# JWT
jwt.secret=${JWT_SECRET}
jwt.expiration=86400000

# Catalogs
allergen.catalog-path=classpath:data/allergen.json
raw-produce.catalog-path=classpath:data/raw_produce_catalog.json
raw-produce.seafood-category-path=classpath:data/raw_produce_seafood_category.json
processed-foods.catalog-path=classpath:data/processed_foods_catalog.json
