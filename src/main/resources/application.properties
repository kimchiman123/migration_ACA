# ? ??
spring.application.name=bigProject
spring.profiles.active=oauth

# ===============================
# ACA Proxy Header Support
# ===============================
server.forward-headers-strategy=native

# ===============================
# Logging (JWT Debug)
# ===============================
logging.level.com.aivle0102.bigproject.security=DEBUG

# ===============================
# PostgreSQL DataSource
# ===============================
# ACA 환경을 위하여 환경변수 설정 변경
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/bigproject}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:postgres}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# JPA ??
# ===============================
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=true
spring.jpa.open-in-view=false

spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.servlet.encoding.charset=UTF-8
spring.servlet.encoding.enabled=true
spring.servlet.encoding.force=true
spring.sql.init.mode=always

# OpenAI
openai.base-url=https://api.openai.com/v1
openai.api-key=${OPENAI_API_KEY}
openai.model=gpt-4.1-mini
openai.image-model=gpt-image-1

# SerpApi
serpapi.base-url=https://serpapi.com
serpapi.api-key=${SERPAPI_API_KEY}

# JWT
jwt.secret=${JWT_SECRET:ZGV2ZWxvcG1lbnQtc2VjcmV0LWtleS1mb3ItbG9jYWwtdGVzdGluZy1vbmx5LTMyYnl0ZXM=}
jwt.expiration=86400000

# OAuth2 redirect (used by success/failure handlers)
app.oauth2.authorized-redirect-uri=${OAUTH2_REDIRECT_URI:http://localhost:5173/oauth/callback}
app.oauth2.enabled=true

# HACCP OpenAPI
haccp.service-key=${HACCP_SERVICE_KEY}

# allergen json path
allergen.catalog-path=classpath:data/allergen.json

# ===============================
# Mail (SMTP)
# ===============================
# Gmail (uses app password)
mail.gmail.host=smtp.gmail.com
mail.gmail.port=587
mail.gmail.username=${MAIL_USERNAME}
mail.gmail.password=${MAIL_PASSWORD}
mail.gmail.smtp.auth=true
mail.gmail.smtp.starttls.enable=true
mail.gmail.smtp.starttls.required=true
mail.gmail.default-encoding=UTF-8

# Naver
mail.naver.host=smtp.naver.com
mail.naver.port=587
mail.naver.username=${NAVER_MAIL_USERNAME}
mail.naver.password=${NAVER_MAIL_PASSWORD}
mail.naver.smtp.auth=true
mail.naver.smtp.starttls.enable=true
mail.naver.smtp.starttls.required=true
mail.naver.default-encoding=UTF-8
